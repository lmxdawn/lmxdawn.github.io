{"version":3,"sources":["webpack:///static/js/5.da2fd95027536fec2502.js","webpack:///./src/pages/user_manage/admin/index.vue?2b59","webpack:///./src/pages/user_manage/admin/index.vue?37cb","webpack:///./src/api/admin.js","webpack:///./src/pages/user_manage/admin/index.vue","webpack:///src/pages/user_manage/admin/index.vue","webpack:///./src/pages/user_manage/admin/index.vue?7e75"],"names":["webpackJsonp","0k4j","module","exports","__webpack_require__","push","i","version","sources","names","mappings","file","sourceRoot","SkD8","content","locals","tkAz","__webpack_exports__","getAdminList","query","Object","fetch","url","API_SUFFIX","method","params","adminSave","data","formName","arguments","length","undefined","adminDelete","injectStyle","ssrContext","defineProperty","value","formJson","id","username","password","checkPassword","status","roles","admin","_this","this","page","limit","role_id","list","total","loading","index","formMap","add","edit","formLoading","formVisible","formData","formRules","addRules","required","message","trigger","validator","rule","callback","Error","editRules","deleteLoading","methods","onSubmit","$router","path","getList","handleSizeChange","val","handleCurrentChange","_this2","then","response","admin_list","role_list","catch","handleForm","row","assign","$refs","clearValidate","formSubmit","_this3","validate","valid","res","errcode","$message","errmsg","type","resetFields","unshift","splice","handleDel","_this4","$confirm","filters","statusFilterType","0","1","2","statusFilterName","mounted","created","$route","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","inline","model","size","placeholder","$$v","$set","expression","_v","label","_l","item","key","name","icon","on","click","nativeOn","$event","directives","rawName","staticStyle","width","max-height","prop","fixed","scopedSlots","_u","fn","scope","_f","_s","with","show-overflow-tooltip","last_login_time","last_login_ip","$index","margin-left","title","visible","top","update:visible","ref","rules","auto-complete","slot","staticRenderFns","esExports","user_manage_admin","normalizeComponent","__vue_styles__","Component"],"mappings":"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","file":"static/js/5.da2fd95027536fec2502.js","sourcesContent":["webpackJsonp([5],{\n\n/***/ \"0k4j\":\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(\"UTlt\")(true);\n// imports\n\n\n// module\nexports.push([module.i, \"\", \"\", {\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"file\":\"index.vue\",\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ \"SkD8\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(\"0k4j\");\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(\"FIqI\")(\"56396214\", content, true, {});\n\n/***/ }),\n\n/***/ \"tkAz\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ./src/utils/fetch.js + 1 modules\nvar fetch = __webpack_require__(\"Vo7i\");\n\n// CONCATENATED MODULE: ./src/api/admin.js\n/**\n * Created by lk on 17/6/4.\n */\n\n\nvar API_SUFFIX = \".json\";\n\n// 获取列表\nfunction getAdminList(query) {\n    return Object(fetch[\"a\" /* default */])({\n        url: '/admin/admin/index' + API_SUFFIX,\n        method: 'get',\n        params: query\n    });\n}\n\n// 保存\nfunction adminSave(data, formName) {\n    var method = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'post';\n\n    var url = formName === 'add' ? '/admin/admin/save' + API_SUFFIX : '/admin/admin/edit' + API_SUFFIX;\n    return Object(fetch[\"a\" /* default */])({\n        url: url,\n        method: method,\n        data: data\n    });\n}\n\n// 删除管理员\nfunction adminDelete(data) {\n    return Object(fetch[\"a\" /* default */])({\n        url: '/admin/admin/delete' + API_SUFFIX,\n        method: 'post',\n        data: data\n    });\n}\n// CONCATENATED MODULE: ./node_modules/_babel-loader@7.1.4@babel-loader/lib!./node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=script&index=0!./src/pages/user_manage/admin/index.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\nvar formJson = {\n    id: '',\n    username: '',\n    password: '',\n    checkPassword: '',\n    status: '1',\n    roles: []\n};\n/* harmony default export */ var admin = ({\n    data: function data() {\n        var _this = this;\n\n        var validatePass = function validatePass(rule, value, callback) {\n            if (value === '') {\n                callback(new Error('请输入密码'));\n            } else {\n                callback();\n            }\n        };\n        var validatePass2 = function validatePass2(rule, value, callback) {\n            if (value === '') {\n                callback(new Error('请再次输入密码'));\n            } else if (value !== _this.formData.password) {\n                callback(new Error('两次输入密码不一致!'));\n            } else {\n                callback();\n            }\n        };\n        return {\n            roles: [],\n            query: {\n                username: '',\n                status: '',\n                page: 1,\n                limit: 20,\n                role_id: ''\n            },\n            list: [],\n            total: 0,\n            loading: true,\n            index: null,\n            formName: null,\n            formMap: {\n                add: '新增',\n                edit: '编辑'\n            },\n            formLoading: false,\n            formVisible: false,\n            formData: formJson,\n            formRules: {},\n            addRules: {\n                username: [{ required: true, message: '请输入姓名', trigger: 'blur' }],\n                password: [{ required: true, message: '请输入密码', trigger: 'blur' }, { validator: validatePass, trigger: 'blur' }],\n                checkPassword: [{ required: true, message: '请再次输入密码', trigger: 'blur' }, { validator: validatePass2, trigger: 'blur' }],\n                status: [{ required: true, message: '请选择状态', trigger: 'change' }]\n            },\n            editRules: {\n                username: [{ required: true, message: '请输入姓名', trigger: 'blur' }],\n                status: [{ required: true, message: '请选择状态', trigger: 'change' }]\n            },\n            deleteLoading: false\n        };\n    },\n\n    methods: {\n        onSubmit: function onSubmit() {\n            this.$router.push({\n                path: '',\n                query: this.query\n            });\n            this.getList();\n        },\n        handleSizeChange: function handleSizeChange(val) {\n            this.query.limit = val;\n            this.getList();\n        },\n        handleCurrentChange: function handleCurrentChange(val) {\n            this.query.page = val;\n            this.getList();\n        },\n        getList: function getList() {\n            var _this2 = this;\n\n            this.loading = true;\n            getAdminList(this.query).then(function (response) {\n                _this2.loading = false;\n                _this2.list = response.admin_list.data || [];\n                _this2.total = response.admin_list.total || 0;\n                _this2.roles = response.role_list || [];\n            }).catch(function () {\n                _this2.loading = false;\n                _this2.list = [];\n                _this2.total = 0;\n                _this2.roles = [];\n            });\n        },\n\n        // 显示界面\n        handleForm: function handleForm(index, row) {\n            this.formVisible = true;\n            this.formData = Object.assign({}, formJson);\n            if (row !== null) {\n                this.formData = Object.assign({}, row);\n            }\n            this.formData.status += ''; // 转为字符串（解决默认选中的时候字符串和数字不能比较的问题）\n            this.formName = 'add';\n            this.formRules = this.addRules;\n            if (index !== null) {\n                this.index = index;\n                this.formName = 'edit';\n                this.formRules = this.editRules;\n            }\n            // 清空验证信息表单\n            if (this.$refs['dataForm']) {\n                this.$refs['dataForm'].clearValidate();\n            }\n        },\n        formSubmit: function formSubmit() {\n            var _this3 = this;\n\n            this.$refs['dataForm'].validate(function (valid) {\n                if (valid) {\n                    _this3.formLoading = true;\n                    var data = Object.assign({}, _this3.formData);\n                    adminSave(data, _this3.formName).then(function (res) {\n                        _this3.formLoading = false;\n                        if (res.errcode) {\n                            _this3.$message({\n                                message: res.errmsg,\n                                type: 'error'\n                            });\n                        } else {\n                            _this3.$message({\n                                message: '操作成功',\n                                type: 'success'\n                            });\n                            // 向头部添加数据\n                            // this.list.unshift(res)\n                            // 刷新表单\n                            _this3.$refs['dataForm'].resetFields();\n                            _this3.formVisible = false;\n                            if (_this3.formName === 'add') {\n                                // 向头部添加数据\n                                _this3.list.unshift(res);\n                            } else {\n                                _this3.list.splice(_this3.index, 1, data);\n                            }\n                        }\n                    });\n                }\n            });\n        },\n\n        // 删除\n        handleDel: function handleDel(index, row) {\n            var _this4 = this;\n\n            if (row.id) {\n                this.$confirm('确认删除该记录吗?', '提示', {\n                    type: 'warning'\n                }).then(function () {\n                    _this4.loading = true;\n                    var para = { id: row.id };\n                    adminDelete(para).then(function (res) {\n                        if (res.errcode) {\n                            _this4.$message({\n                                message: res.errmsg,\n                                type: 'error'\n                            });\n                        } else {\n                            _this4.$message({\n                                message: '删除成功',\n                                type: 'success'\n                            });\n                            // 刷新数据\n                            _this4.list.splice(index, 1);\n                        }\n                    }).catch(function () {\n                        _this4.deleteLoading = false;\n                    });\n                }).catch(function () {\n                    _this4.$message({\n                        type: 'info',\n                        message: '取消删除'\n                    });\n                });\n            }\n        }\n    },\n    filters: {\n        statusFilterType: function statusFilterType(status) {\n            var statusMap = {\n                0: 'gray',\n                1: 'success',\n                2: 'danger'\n            };\n            return statusMap[status];\n        },\n        statusFilterName: function statusFilterName(status) {\n            var statusMap = {\n                0: '禁用',\n                1: '正常',\n                2: '未验证'\n            };\n            return statusMap[status];\n        }\n    },\n    mounted: function mounted() {},\n    created: function created() {\n        // 将参数拷贝进查询对象\n        var query = this.$route.query;\n        this.query = Object.assign(this.query, query);\n        // 加载表格数据\n        this.getList();\n    }\n});\n// CONCATENATED MODULE: ./node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler?{\"id\":\"data-v-6787bf97\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=template&index=0!./src/pages/user_manage/admin/index.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-form',{staticClass:\"query-form\",attrs:{\"inline\":true,\"model\":_vm.query,\"size\":\"mini\"}},[_c('el-form-item',{staticClass:\"query-form-item\"},[_c('el-input',{attrs:{\"placeholder\":\"用户名\"},model:{value:(_vm.query.username),callback:function ($$v) {_vm.$set(_vm.query, \"username\", $$v)},expression:\"query.username\"}})],1),_vm._v(\" \"),_c('el-form-item',{staticClass:\"query-form-item\"},[_c('el-select',{attrs:{\"placeholder\":\"状态\"},model:{value:(_vm.query.status),callback:function ($$v) {_vm.$set(_vm.query, \"status\", $$v)},expression:\"query.status\"}},[_c('el-option',{attrs:{\"label\":\"禁用\",\"value\":\"0\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"正常\",\"value\":\"1\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"未验证\",\"value\":\"2\"}})],1)],1),_vm._v(\" \"),_c('el-form-item',{staticClass:\"query-form-item\"},[_c('el-select',{attrs:{\"placeholder\":\"角色\"},model:{value:(_vm.query.role_id),callback:function ($$v) {_vm.$set(_vm.query, \"role_id\", $$v)},expression:\"query.role_id\"}},[_c('el-option',{attrs:{\"label\":\"全部角色\",\"value\":\"\"}}),_vm._v(\" \"),_vm._l((_vm.roles),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.name,\"value\":item.id}})})],2)],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-refresh\"},on:{\"click\":_vm.getList}})],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"search\"},on:{\"click\":_vm.onSubmit}},[_vm._v(\"查询\")])],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},nativeOn:{\"click\":function($event){_vm.handleForm(null,null)}}},[_vm._v(\"新增\")])],1)],1),_vm._v(\" \"),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.list,\"max-height\":\"500\"}},[_c('el-table-column',{attrs:{\"label\":\"用户 ID\",\"prop\":\"id\",\"fixed\":\"\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"用户名\",\"prop\":\"username\",\"fixed\":\"\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"状态\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-tag',{attrs:{\"type\":_vm._f(\"statusFilterType\")(scope.row.status)}},[_vm._v(_vm._s(_vm._f(\"statusFilterName\")(scope.row.status)))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"登录时间\",\"with\":\"300\",\"show-overflow-tooltip\":true},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('i',{staticClass:\"el-icon-time\"}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm._f(\"parseTime\")(scope.row.last_login_time,'{y}-{m}-{d} {h}:{i}')))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"登录IP\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.last_login_ip))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\",\"fixed\":\"right\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"small\"},nativeOn:{\"click\":function($event){_vm.handleForm(scope.$index, scope.row)}}},[_vm._v(\"编辑\")]),_vm._v(\" \"),_c('el-button',{staticStyle:{\"margin-left\":\"0\"},attrs:{\"type\":\"danger\",\"size\":\"small\"},nativeOn:{\"click\":function($event){_vm.handleDel(scope.$index, scope.row)}}},[_vm._v(\"删除\\n                \")])]}}])})],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":_vm.formMap[_vm.formName],\"visible\":_vm.formVisible,\"width\":\"85%\",\"top\":\"5vh\"},on:{\"update:visible\":function($event){_vm.formVisible=$event}}},[_c('el-form',{ref:\"dataForm\",attrs:{\"model\":_vm.formData,\"rules\":_vm.formRules}},[_c('el-form-item',{attrs:{\"label\":\"用户名\",\"prop\":\"username\"}},[_c('el-input',{attrs:{\"auto-complete\":\"off\"},model:{value:(_vm.formData.username),callback:function ($$v) {_vm.$set(_vm.formData, \"username\", $$v)},expression:\"formData.username\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"登录密码\",\"prop\":\"password\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"auto-complete\":\"off\"},model:{value:(_vm.formData.password),callback:function ($$v) {_vm.$set(_vm.formData, \"password\", $$v)},expression:\"formData.password\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"确认密码\",\"prop\":\"checkPassword\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"auto-complete\":\"off\"},model:{value:(_vm.formData.checkPassword),callback:function ($$v) {_vm.$set(_vm.formData, \"checkPassword\", $$v)},expression:\"formData.checkPassword\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"状态\",\"prop\":\"status\"}},[_c('el-radio-group',{model:{value:(_vm.formData.status),callback:function ($$v) {_vm.$set(_vm.formData, \"status\", $$v)},expression:\"formData.status\"}},[_c('el-radio',{attrs:{\"label\":\"0\"}},[_vm._v(\"禁用\")]),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":\"1\"}},[_vm._v(\"正常\")]),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":\"2\"}},[_vm._v(\"未验证\")])],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"角色\"}},[_c('el-checkbox-group',{model:{value:(_vm.formData.roles),callback:function ($$v) {_vm.$set(_vm.formData, \"roles\", $$v)},expression:\"formData.roles\"}},_vm._l((_vm.roles),function(item){return _c('el-checkbox',{key:item.id,attrs:{\"label\":item.id}},[_vm._v(_vm._s(item.name))])}))],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{nativeOn:{\"click\":function($event){_vm.formVisible = !_vm.formVisible}}},[_vm._v(\"取消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"loading\":_vm.formLoading},nativeOn:{\"click\":function($event){_vm.formSubmit()}}},[_vm._v(\"提交\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var user_manage_admin = (esExports);\n// CONCATENATED MODULE: ./src/pages/user_manage/admin/index.vue\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"SkD8\")\n}\nvar normalizeComponent = __webpack_require__(\"Z0/y\")\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  admin,\n  user_manage_admin,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var pages_user_manage_admin = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/5.da2fd95027536fec2502.js","exports = module.exports = require(\"../../../../node_modules/_css-loader@0.28.11@css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\", {\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"file\":\"index.vue\",\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_css-loader@0.28.11@css-loader?{\"sourceMap\":true}!./node_modules/_vue-loader@13.7.1@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-6787bf97\",\"scoped\":false,\"hasInlineConfig\":false}!./node_modules/_sass-loader@6.0.7@sass-loader/lib/loader.js?{\"sourceMap\":true}!./node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=styles&index=0!./src/pages/user_manage/admin/index.vue\n// module id = 0k4j\n// module chunks = 5","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/_css-loader@0.28.11@css-loader/index.js?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6787bf97\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../node_modules/_sass-loader@6.0.7@sass-loader/lib/loader.js?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=styles&index=0!./index.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/_vue-style-loader@3.1.2@vue-style-loader/lib/addStylesClient.js\")(\"56396214\", content, true, {});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/_vue-style-loader@3.1.2@vue-style-loader!./node_modules/_css-loader@0.28.11@css-loader?{\"sourceMap\":true}!./node_modules/_vue-loader@13.7.1@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-6787bf97\",\"scoped\":false,\"hasInlineConfig\":false}!./node_modules/_sass-loader@6.0.7@sass-loader/lib/loader.js?{\"sourceMap\":true}!./node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=styles&index=0!./src/pages/user_manage/admin/index.vue\n// module id = SkD8\n// module chunks = 5","/**\n * Created by lk on 17/6/4.\n */\nimport fetch from '../utils/fetch'\n\nconst API_SUFFIX = process.env.API_SUFFIX\n\n// 获取列表\nexport function getAdminList (query) {\n    return fetch({\n        url: '/admin/admin/index' + API_SUFFIX,\n        method: 'get',\n        params: query\n    })\n}\n\n// 保存\nexport function adminSave (data, formName, method = 'post') {\n    var url = formName === 'add' ? '/admin/admin/save' + API_SUFFIX : '/admin/admin/edit' + API_SUFFIX\n    return fetch({\n        url: url,\n        method: method,\n        data: data\n    })\n}\n\n// 删除管理员\nexport function adminDelete (data) {\n    return fetch({\n        url: '/admin/admin/delete' + API_SUFFIX,\n        method: 'post',\n        data: data\n    })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/admin.js","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6787bf97\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6787bf97\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/user_manage/admin/index.vue\n// module id = null\n// module chunks = ","<template>\n\n    <div>\n        <el-form :inline=\"true\" :model=\"query\" class=\"query-form\" size=\"mini\">\n            <el-form-item class=\"query-form-item\">\n                <el-input v-model=\"query.username\" placeholder=\"用户名\"></el-input>\n            </el-form-item>\n            <el-form-item class=\"query-form-item\">\n                <el-select v-model=\"query.status\" placeholder=\"状态\">\n                    <!--<el-option label=\"状态\" value=\"\"></el-option>-->\n                    <el-option label=\"禁用\" value=\"0\"></el-option>\n                    <el-option label=\"正常\" value=\"1\"></el-option>\n                    <el-option label=\"未验证\" value=\"2\"></el-option>\n                </el-select>\n            </el-form-item>\n            <el-form-item class=\"query-form-item\">\n                <el-select v-model=\"query.role_id\" placeholder=\"角色\">\n                    <el-option label=\"全部角色\" value=\"\"></el-option>\n                    <el-option v-for=\"item in roles\" :key=\"item.id\" :label=\"item.name\" :value=\"item.id\"></el-option>\n                </el-select>\n            </el-form-item>\n            <el-form-item>\n                <el-button type=\"primary\" icon=\"el-icon-refresh\" @click=\"getList\"></el-button>\n            </el-form-item>\n            <el-form-item>\n                <el-button type=\"primary\" icon=\"search\" @click=\"onSubmit\">查询</el-button>\n            </el-form-item>\n            <el-form-item>\n                <el-button type=\"primary\" @click.native=\"handleForm(null,null)\">新增</el-button>\n            </el-form-item>\n        </el-form>\n        <el-table\n            v-loading=\"loading\"\n            :data=\"list\"\n            style=\"width: 100%;\"\n            max-height=\"500\">\n            <el-table-column\n                label=\"用户 ID\"\n                prop=\"id\"\n                fixed>\n            </el-table-column>\n            <el-table-column\n                label=\"用户名\"\n                prop=\"username\"\n                fixed>\n            </el-table-column>\n            <el-table-column\n                label=\"状态\">\n                <template slot-scope=\"scope\">\n                    <el-tag :type=\"scope.row.status | statusFilterType\">{{scope.row.status | statusFilterName}}</el-tag>\n                </template>\n            </el-table-column>\n            <el-table-column\n                label=\"登录时间\"\n                with=\"300\"\n                :show-overflow-tooltip=\"true\">\n                <template slot-scope=\"scope\">\n                    <i class=\"el-icon-time\"></i>\n                    <span>{{ scope.row.last_login_time | parseTime('{y}-{m}-{d} {h}:{i}') }}</span>\n                </template>\n            </el-table-column>\n            <el-table-column\n                label=\"登录IP\">\n                <template slot-scope=\"scope\">\n                    <span>{{ scope.row.last_login_ip }}</span>\n                </template>\n            </el-table-column>\n            <el-table-column\n                label=\"操作\"\n                fixed=\"right\">\n                <template slot-scope=\"scope\">\n                    <el-button size=\"small\" @click.native=\"handleForm(scope.$index, scope.row)\">编辑</el-button>\n                    <el-button type=\"danger\" size=\"small\" @click.native=\"handleDel(scope.$index, scope.row)\"\n                               style=\"margin-left: 0;\">删除\n                    </el-button>\n                </template>\n            </el-table-column>\n        </el-table>\n\n\n        <!--表单-->\n        <el-dialog :title=\"formMap[formName]\" :visible.sync=\"formVisible\" width=\"85%\" top=\"5vh\">\n            <el-form :model=\"formData\" :rules=\"formRules\" ref=\"dataForm\">\n                <el-form-item label=\"用户名\" prop=\"username\">\n                    <el-input v-model=\"formData.username\" auto-complete=\"off\"></el-input>\n                </el-form-item>\n                <el-form-item label=\"登录密码\" prop=\"password\">\n                    <el-input type=\"password\" v-model=\"formData.password\" auto-complete=\"off\"></el-input>\n                </el-form-item>\n                <el-form-item label=\"确认密码\" prop=\"checkPassword\">\n                    <el-input type=\"password\" v-model=\"formData.checkPassword\" auto-complete=\"off\"></el-input>\n                </el-form-item>\n                <el-form-item label=\"状态\" prop=\"status\">\n                    <el-radio-group v-model=\"formData.status\">\n                        <el-radio label=\"0\">禁用</el-radio>\n                        <el-radio label=\"1\">正常</el-radio>\n                        <el-radio label=\"2\">未验证</el-radio>\n                    </el-radio-group>\n                </el-form-item>\n                <el-form-item label=\"角色\">\n                    <el-checkbox-group v-model=\"formData.roles\">\n                        <el-checkbox v-for=\"item in roles\" :key=\"item.id\" :label=\"item.id\">{{item.name}}</el-checkbox>\n                    </el-checkbox-group>\n                </el-form-item>\n            </el-form>\n            <div slot=\"footer\" class=\"dialog-footer\">\n                <el-button @click.native=\"formVisible = !formVisible\">取消</el-button>\n                <el-button type=\"primary\" @click.native=\"formSubmit()\" :loading=\"formLoading\">提交</el-button>\n            </div>\n        </el-dialog>\n    </div>\n\n</template>\n\n<script>\n    import { getAdminList, adminSave, adminDelete } from '../../../api/admin'\n    const formJson = {\n        id: '',\n        username: '',\n        password: '',\n        checkPassword: '',\n        status: '1',\n        roles: []\n    }\n    export default {\n        data () {\n            var validatePass = (rule, value, callback) => {\n                if (value === '') {\n                    callback(new Error('请输入密码'))\n                } else {\n                    callback()\n                }\n            }\n            var validatePass2 = (rule, value, callback) => {\n                if (value === '') {\n                    callback(new Error('请再次输入密码'))\n                } else if (value !== this.formData.password) {\n                    callback(new Error('两次输入密码不一致!'))\n                } else {\n                    callback()\n                }\n            }\n            return {\n                roles: [],\n                query: {\n                    username: '',\n                    status: '',\n                    page: 1,\n                    limit: 20,\n                    role_id: ''\n                },\n                list: [],\n                total: 0,\n                loading: true,\n                index: null,\n                formName: null,\n                formMap: {\n                    add: '新增',\n                    edit: '编辑'\n                },\n                formLoading: false,\n                formVisible: false,\n                formData: formJson,\n                formRules: {},\n                addRules: {\n                    username: [\n                        {required: true, message: '请输入姓名', trigger: 'blur'}\n                    ],\n                    password: [\n                        {required: true, message: '请输入密码', trigger: 'blur'},\n                        {validator: validatePass, trigger: 'blur'}\n                    ],\n                    checkPassword: [\n                        {required: true, message: '请再次输入密码', trigger: 'blur'},\n                        {validator: validatePass2, trigger: 'blur'}\n                    ],\n                    status: [\n                        {required: true, message: '请选择状态', trigger: 'change'}\n                    ]\n                },\n                editRules: {\n                    username: [\n                        {required: true, message: '请输入姓名', trigger: 'blur'}\n                    ],\n                    status: [\n                        {required: true, message: '请选择状态', trigger: 'change'}\n                    ]\n                },\n                deleteLoading: false\n            }\n        },\n        methods: {\n            onSubmit () {\n                this.$router.push({\n                    path: '',\n                    query: this.query\n                })\n                this.getList()\n            },\n            handleSizeChange (val) {\n                this.query.limit = val\n                this.getList()\n            },\n            handleCurrentChange (val) {\n                this.query.page = val\n                this.getList()\n            },\n            getList () {\n                this.loading = true\n                getAdminList(this.query).then(response => {\n                    this.loading = false\n                    this.list = response.admin_list.data || []\n                    this.total = response.admin_list.total || 0\n                    this.roles = response.role_list || []\n                }).catch(() => {\n                    this.loading = false\n                    this.list = []\n                    this.total = 0\n                    this.roles = []\n                })\n            },\n            // 显示界面\n            handleForm (index, row) {\n                this.formVisible = true\n                this.formData = Object.assign({}, formJson)\n                if (row !== null) {\n                    this.formData = Object.assign({}, row)\n                }\n                this.formData.status += '' // 转为字符串（解决默认选中的时候字符串和数字不能比较的问题）\n                this.formName = 'add'\n                this.formRules = this.addRules\n                if (index !== null) {\n                    this.index = index\n                    this.formName = 'edit'\n                    this.formRules = this.editRules\n                }\n                // 清空验证信息表单\n                if (this.$refs['dataForm']) {\n                    this.$refs['dataForm'].clearValidate()\n                }\n            },\n            formSubmit () {\n                this.$refs['dataForm'].validate(valid => {\n                    if (valid) {\n                        this.formLoading = true\n                        let data = Object.assign({}, this.formData)\n                        adminSave(data, this.formName).then(res => {\n                            this.formLoading = false\n                            if (res.errcode) {\n                                this.$message({\n                                    message: res.errmsg,\n                                    type: 'error'\n                                })\n                            } else {\n                                this.$message({\n                                    message: '操作成功',\n                                    type: 'success'\n                                })\n                                // 向头部添加数据\n                                // this.list.unshift(res)\n                                // 刷新表单\n                                this.$refs['dataForm'].resetFields()\n                                this.formVisible = false\n                                if (this.formName === 'add') {\n                                    // 向头部添加数据\n                                    this.list.unshift(res)\n                                } else {\n                                    this.list.splice(this.index, 1, data)\n                                }\n                            }\n                        })\n                    }\n                })\n            },\n            // 删除\n            handleDel (index, row) {\n                if (row.id) {\n                    this.$confirm('确认删除该记录吗?', '提示', {\n                        type: 'warning'\n                    }).then(() => {\n                        this.loading = true\n                        let para = {id: row.id}\n                        adminDelete(para).then((res) => {\n                            if (res.errcode) {\n                                this.$message({\n                                    message: res.errmsg,\n                                    type: 'error'\n                                })\n                            } else {\n                                this.$message({\n                                    message: '删除成功',\n                                    type: 'success'\n                                })\n                                // 刷新数据\n                                this.list.splice(index, 1)\n                            }\n                        }).catch(() => {\n                            this.deleteLoading = false\n                        })\n                    }).catch(() => {\n                        this.$message({\n                            type: 'info',\n                            message: '取消删除'\n                        })\n                    })\n                }\n            }\n        },\n        filters: {\n            statusFilterType (status) {\n                const statusMap = {\n                    0: 'gray',\n                    1: 'success',\n                    2: 'danger'\n                }\n                return statusMap[status]\n            },\n            statusFilterName (status) {\n                const statusMap = {\n                    0: '禁用',\n                    1: '正常',\n                    2: '未验证'\n                }\n                return statusMap[status]\n            }\n        },\n        mounted () {\n        },\n        created () {\n            // 将参数拷贝进查询对象\n            let query = this.$route.query\n            this.query = Object.assign(this.query, query)\n            // 加载表格数据\n            this.getList()\n        }\n    }\n</script>\n\n<style lang=\"scss\">\n\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/user_manage/admin/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-form',{staticClass:\"query-form\",attrs:{\"inline\":true,\"model\":_vm.query,\"size\":\"mini\"}},[_c('el-form-item',{staticClass:\"query-form-item\"},[_c('el-input',{attrs:{\"placeholder\":\"用户名\"},model:{value:(_vm.query.username),callback:function ($$v) {_vm.$set(_vm.query, \"username\", $$v)},expression:\"query.username\"}})],1),_vm._v(\" \"),_c('el-form-item',{staticClass:\"query-form-item\"},[_c('el-select',{attrs:{\"placeholder\":\"状态\"},model:{value:(_vm.query.status),callback:function ($$v) {_vm.$set(_vm.query, \"status\", $$v)},expression:\"query.status\"}},[_c('el-option',{attrs:{\"label\":\"禁用\",\"value\":\"0\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"正常\",\"value\":\"1\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"未验证\",\"value\":\"2\"}})],1)],1),_vm._v(\" \"),_c('el-form-item',{staticClass:\"query-form-item\"},[_c('el-select',{attrs:{\"placeholder\":\"角色\"},model:{value:(_vm.query.role_id),callback:function ($$v) {_vm.$set(_vm.query, \"role_id\", $$v)},expression:\"query.role_id\"}},[_c('el-option',{attrs:{\"label\":\"全部角色\",\"value\":\"\"}}),_vm._v(\" \"),_vm._l((_vm.roles),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.name,\"value\":item.id}})})],2)],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-refresh\"},on:{\"click\":_vm.getList}})],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"search\"},on:{\"click\":_vm.onSubmit}},[_vm._v(\"查询\")])],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},nativeOn:{\"click\":function($event){_vm.handleForm(null,null)}}},[_vm._v(\"新增\")])],1)],1),_vm._v(\" \"),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.list,\"max-height\":\"500\"}},[_c('el-table-column',{attrs:{\"label\":\"用户 ID\",\"prop\":\"id\",\"fixed\":\"\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"用户名\",\"prop\":\"username\",\"fixed\":\"\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"状态\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-tag',{attrs:{\"type\":_vm._f(\"statusFilterType\")(scope.row.status)}},[_vm._v(_vm._s(_vm._f(\"statusFilterName\")(scope.row.status)))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"登录时间\",\"with\":\"300\",\"show-overflow-tooltip\":true},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('i',{staticClass:\"el-icon-time\"}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm._f(\"parseTime\")(scope.row.last_login_time,'{y}-{m}-{d} {h}:{i}')))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"登录IP\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.last_login_ip))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\",\"fixed\":\"right\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"small\"},nativeOn:{\"click\":function($event){_vm.handleForm(scope.$index, scope.row)}}},[_vm._v(\"编辑\")]),_vm._v(\" \"),_c('el-button',{staticStyle:{\"margin-left\":\"0\"},attrs:{\"type\":\"danger\",\"size\":\"small\"},nativeOn:{\"click\":function($event){_vm.handleDel(scope.$index, scope.row)}}},[_vm._v(\"删除\\n                \")])]}}])})],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":_vm.formMap[_vm.formName],\"visible\":_vm.formVisible,\"width\":\"85%\",\"top\":\"5vh\"},on:{\"update:visible\":function($event){_vm.formVisible=$event}}},[_c('el-form',{ref:\"dataForm\",attrs:{\"model\":_vm.formData,\"rules\":_vm.formRules}},[_c('el-form-item',{attrs:{\"label\":\"用户名\",\"prop\":\"username\"}},[_c('el-input',{attrs:{\"auto-complete\":\"off\"},model:{value:(_vm.formData.username),callback:function ($$v) {_vm.$set(_vm.formData, \"username\", $$v)},expression:\"formData.username\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"登录密码\",\"prop\":\"password\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"auto-complete\":\"off\"},model:{value:(_vm.formData.password),callback:function ($$v) {_vm.$set(_vm.formData, \"password\", $$v)},expression:\"formData.password\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"确认密码\",\"prop\":\"checkPassword\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"auto-complete\":\"off\"},model:{value:(_vm.formData.checkPassword),callback:function ($$v) {_vm.$set(_vm.formData, \"checkPassword\", $$v)},expression:\"formData.checkPassword\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"状态\",\"prop\":\"status\"}},[_c('el-radio-group',{model:{value:(_vm.formData.status),callback:function ($$v) {_vm.$set(_vm.formData, \"status\", $$v)},expression:\"formData.status\"}},[_c('el-radio',{attrs:{\"label\":\"0\"}},[_vm._v(\"禁用\")]),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":\"1\"}},[_vm._v(\"正常\")]),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":\"2\"}},[_vm._v(\"未验证\")])],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"角色\"}},[_c('el-checkbox-group',{model:{value:(_vm.formData.roles),callback:function ($$v) {_vm.$set(_vm.formData, \"roles\", $$v)},expression:\"formData.roles\"}},_vm._l((_vm.roles),function(item){return _c('el-checkbox',{key:item.id,attrs:{\"label\":item.id}},[_vm._v(_vm._s(item.name))])}))],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{nativeOn:{\"click\":function($event){_vm.formVisible = !_vm.formVisible}}},[_vm._v(\"取消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"loading\":_vm.formLoading},nativeOn:{\"click\":function($event){_vm.formSubmit()}}},[_vm._v(\"提交\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler?{\"id\":\"data-v-6787bf97\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=template&index=0!./src/pages/user_manage/admin/index.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}