{"version":3,"sources":["webpack:///static/js/3.127aafc10fd8f63f6eaf.js","webpack:///./src/pages/user_manage/admin/authRule.vue?17e6","webpack:///./src/api/authRule.js","webpack:///./src/pages/user_manage/admin/authRule.vue","webpack:///src/pages/user_manage/admin/authRule.vue","webpack:///./src/pages/user_manage/admin/authRule.vue?82af","webpack:///./src/pages/user_manage/admin/authRule.vue?9ad2"],"names":["webpackJsonp","CERA","module","exports","__webpack_require__","content","i","locals","E37/","__webpack_exports__","authRuleList","query","Object","fetch","url","API_SUFFIX","method","params","authRuleSave","data","formName","arguments","length","undefined","authRuleDelete","injectStyle","ssrContext","defineProperty","value","formJson","id","pid","name","title","status","condition","listorder","authRule","mergeList","node","defaultProps","children","label","treeList","loading","index","formMap","add","edit","formLoading","formVisible","formData","formRules","required","message","trigger","pidData","deleteLoading","methods","renderContent","h","_ref","_this","this","store","style","attrs","type","on","click","handleForm","handleDel","onSubmit","getList","_this2","then","response","merge_list","tree_list","catch","hideForm","$refs","resetFields","parseInt","assign","clearValidate","findIndex","d","formSubmit","_this3","validate","valid","res","errcode","$message","errmsg","newChild","$set","push","parent","splice","_this4","$alert","confirmButtonText","$confirm","filters","statusFilterType","0","1","statusFilterName","mounted","created","render","_vm","_h","$createElement","_c","_self","staticClass","inline","model","size","placeholder","callback","$$v","expression","_v","icon","nativeOn","$event","props","node-key","default-expand-all","expand-on-click-node","render-content","visible","before-close","width","top","update:visible","ref","rules","prop","_l","item","key","staticStyle","float","domProps","innerHTML","_s","html","auto-complete","slot","staticRenderFns","esExports","admin_authRule","normalizeComponent","__vue_styles__","Component","QTG7","version","sources","names","mappings","file","sourceRoot"],"mappings":"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","file":"static/js/3.127aafc10fd8f63f6eaf.js","sourcesContent":["webpackJsonp([3],{\n\n/***/ \"CERA\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(\"QTG7\");\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(\"FIqI\")(\"46b18018\", content, true, {});\n\n/***/ }),\n\n/***/ \"E37/\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ./src/utils/fetch.js + 1 modules\nvar fetch = __webpack_require__(\"Vo7i\");\n\n// CONCATENATED MODULE: ./src/api/authRule.js\n/**\n * Created by lk on 17/6/4.\n */\n\n\nvar API_SUFFIX = \".json\";\n\n// 权限管理\n\n// 获取列表\nfunction authRuleList(query) {\n    return Object(fetch[\"a\" /* default */])({\n        url: '/admin/auth_rule/index' + API_SUFFIX,\n        method: 'get',\n        params: query\n    });\n}\n\n// 保存\nfunction authRuleSave(data, formName) {\n    var method = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'post';\n\n    var url = formName === 'add' ? '/admin/auth_rule/save' + API_SUFFIX : '/admin/auth_rule/edit' + API_SUFFIX;\n    return Object(fetch[\"a\" /* default */])({\n        url: url,\n        method: method,\n        data: data\n    });\n}\n\n// 删除\nfunction authRuleDelete(data) {\n    return Object(fetch[\"a\" /* default */])({\n        url: '/admin/auth_rule/delete' + API_SUFFIX,\n        method: 'post',\n        data: data\n    });\n}\n// CONCATENATED MODULE: ./node_modules/_babel-loader@7.1.4@babel-loader/lib!./node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=script&index=0!./src/pages/user_manage/admin/authRule.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\nvar formJson = {\n    id: '',\n    pid: '2',\n    name: '',\n    title: '',\n    status: '1',\n    condition: '',\n    listorder: 999\n};\n/* harmony default export */ var authRule = ({\n    data: function data() {\n        return {\n            query: {\n                // pid: '',\n                name: '',\n                status: ''\n            },\n            mergeList: [],\n            node: null,\n            defaultProps: {\n                children: 'children',\n                label: 'title'\n            },\n            treeList: [],\n            loading: true,\n            index: null,\n            formName: null,\n            formMap: {\n                add: '新增',\n                edit: '编辑'\n            },\n            formLoading: false,\n            formVisible: false,\n            formData: formJson,\n            formRules: {\n                name: [{ required: true, message: '请输入规则名', trigger: 'blur' }],\n                title: [{ required: true, message: '请输入标题', trigger: 'blur' }],\n                status: [{ required: true, message: '请选择状态', trigger: 'change' }]\n            },\n            pidData: {},\n            deleteLoading: false\n        };\n    },\n\n    methods: {\n        renderContent: function renderContent(h, _ref) {\n            var _this = this;\n\n            var node = _ref.node,\n                data = _ref.data,\n                store = _ref.store;\n\n            return h(\n                'span',\n                { style: 'flex: 1; display: flex; align-items: center; justify-content: space-between; font-size: 14px; padding-right: 8px;' },\n                [h('span', [h(\n                    'span',\n                    {\n                        attrs: { title: data.name }\n                    },\n                    [node.label]\n                )]), h('span', [h(\n                    'el-button',\n                    { style: 'font-size: 12px;', attrs: { type: 'text' },\n                        on: {\n                            'click': function click() {\n                                return _this.handleForm(node, data, 'add');\n                            }\n                        }\n                    },\n                    ['\\u6DFB\\u52A0\\u5B50\\u83DC\\u5355']\n                ), h(\n                    'el-button',\n                    { style: 'font-size: 12px;', attrs: { type: 'text' },\n                        on: {\n                            'click': function click() {\n                                return _this.handleForm(node, data, 'edit');\n                            }\n                        }\n                    },\n                    ['\\u7F16\\u8F91']\n                ), h(\n                    'el-button',\n                    { style: 'font-size: 12px;', attrs: { type: 'text' },\n                        on: {\n                            'click': function click() {\n                                return _this.handleDel(node, data);\n                            }\n                        }\n                    },\n                    ['\\u5220\\u9664']\n                )])]\n            );\n        },\n        onSubmit: function onSubmit() {\n            this.getList();\n        },\n        getList: function getList() {\n            var _this2 = this;\n\n            this.loading = true;\n            authRuleList(this.query).then(function (response) {\n                _this2.loading = false;\n                _this2.mergeList = response.merge_list || [];\n                _this2.treeList = response.tree_list || [];\n            }).catch(function () {\n                _this2.loading = false;\n                _this2.mergeList = [];\n                _this2.treeList = [];\n            });\n        },\n\n        // 隐藏表单\n        hideForm: function hideForm() {\n            // 更改值\n            this.formVisible = !this.formVisible;\n            // 清空表单\n            this.$refs['dataForm'].resetFields();\n            return true;\n        },\n\n        // 显示表单\n        handleForm: function handleForm(node, data, formName) {\n            this.formVisible = true;\n            this.pidData = data || null;\n            formJson.pid = data && parseInt(data.id) || '';\n            this.formData = Object.assign({}, formJson);\n            if (formName === 'edit') {\n                this.formData = Object.assign({}, data);\n                this.node = node;\n            }\n            this.formData.pid = !this.formData.pid ? '' : this.formData.pid;\n            this.formData.status += ''; // 转为字符串（解决默认选中的时候字符串和数字不能比较的问题）\n            this.formName = formName;\n            // 清空验证信息表单\n            if (this.$refs['dataForm']) {\n                this.$refs['dataForm'].clearValidate();\n            }\n            if (data && data.id) {\n                this.index = this.mergeList.findIndex(function (d) {\n                    return d.id === data.id;\n                });\n            }\n        },\n        formSubmit: function formSubmit() {\n            var _this3 = this;\n\n            this.$refs['dataForm'].validate(function (valid) {\n                if (valid) {\n                    _this3.formLoading = true;\n                    var data = Object.assign({}, _this3.formData);\n                    authRuleSave(data, _this3.formName).then(function (res) {\n                        _this3.formLoading = false;\n                        if (res.errcode) {\n                            _this3.$message({\n                                message: res.errmsg,\n                                type: 'error'\n                            });\n                        } else {\n                            _this3.$message({\n                                message: '操作成功',\n                                type: 'success'\n                            });\n                            // 刷新表单\n                            _this3.$refs['dataForm'].resetFields();\n                            _this3.formVisible = false;\n                            if (_this3.formName === 'add') {\n                                var newChild = res || {};\n                                if (_this3.pidData) {\n                                    if (!_this3.pidData.children) {\n                                        _this3.$set(_this3.pidData, 'children', []);\n                                    }\n                                    _this3.pidData.children.push(newChild);\n                                } else {\n                                    _this3.mergeList.push(newChild);\n                                }\n                            } else {\n                                var parent = _this3.node.parent;\n                                var children = parent.data.children || parent.data;\n                                var index = children.findIndex(function (d) {\n                                    return d.id === data.id;\n                                });\n                                children.splice(index, 1, data);\n                            }\n                        }\n                    }).catch(function () {\n                        _this3.formLoading = false;\n                    });\n                }\n            });\n        },\n\n        // 删除\n        handleDel: function handleDel(node, data) {\n            var _this4 = this;\n\n            if (data.children && data.children.length > 0) {\n                this.$alert('请先删除子节点', '提示', {\n                    confirmButtonText: '确定'\n                });\n                return false;\n            }\n            if (data.id) {\n                this.$confirm('确认删除该记录吗?', '提示', {\n                    type: 'warning'\n                }).then(function () {\n                    _this4.deleteLoading = true;\n                    var para = { id: data.id };\n                    authRuleDelete(para).then(function (res) {\n                        _this4.deleteLoading = false;\n                        if (res.errcode) {\n                            _this4.$message({\n                                message: res.errmsg,\n                                type: 'error'\n                            });\n                        } else {\n                            _this4.$message({\n                                message: '删除成功',\n                                type: 'success'\n                            });\n                            var parent = node.parent;\n                            var children = parent.data.children || parent.data;\n                            var index = children.findIndex(function (d) {\n                                return d.id === data.id;\n                            });\n                            children.splice(index, 1);\n                        }\n                    }).catch(function () {\n                        _this4.deleteLoading = false;\n                    });\n                }).catch(function () {\n                    _this4.$message({\n                        type: 'info',\n                        message: '取消删除'\n                    });\n                });\n            }\n        }\n    },\n    filters: {\n        statusFilterType: function statusFilterType(status) {\n            var statusMap = {\n                0: 'gray',\n                1: 'success'\n            };\n            return statusMap[status];\n        },\n        statusFilterName: function statusFilterName(status) {\n            var statusMap = {\n                0: '禁用',\n                1: '正常'\n            };\n            return statusMap[status];\n        }\n    },\n    mounted: function mounted() {},\n    created: function created() {\n        // 加载表格数据\n        this.getList();\n    }\n});\n// CONCATENATED MODULE: ./node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler?{\"id\":\"data-v-a0ad708a\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=template&index=0!./src/pages/user_manage/admin/authRule.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-form',{staticClass:\"query-form\",attrs:{\"inline\":true,\"model\":_vm.query,\"size\":\"mini\"}},[_c('el-form-item',{staticClass:\"query-form-item\"},[_c('el-input',{attrs:{\"placeholder\":\"角色名称\"},model:{value:(_vm.query.name),callback:function ($$v) {_vm.$set(_vm.query, \"name\", $$v)},expression:\"query.name\"}})],1),_vm._v(\" \"),_c('el-form-item',{staticClass:\"query-form-item\"},[_c('el-select',{attrs:{\"placeholder\":\"状态\"},model:{value:(_vm.query.status),callback:function ($$v) {_vm.$set(_vm.query, \"status\", $$v)},expression:\"query.status\"}},[_c('el-option',{attrs:{\"label\":\"禁用\",\"value\":\"0\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"正常\",\"value\":\"1\"}})],1)],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-refresh\"},on:{\"click\":_vm.getList}})],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"search\"},on:{\"click\":_vm.onSubmit}},[_vm._v(\"查询\")])],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},nativeOn:{\"click\":function($event){_vm.handleForm(null, null, 'add')}}},[_vm._v(\"新增\")])],1)],1),_vm._v(\" \"),_c('el-tree',{attrs:{\"data\":_vm.mergeList,\"props\":_vm.defaultProps,\"node-key\":\"id\",\"default-expand-all\":\"\",\"expand-on-click-node\":false,\"render-content\":_vm.renderContent}}),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":_vm.formMap[_vm.formName],\"visible\":_vm.formVisible,\"before-close\":_vm.hideForm,\"width\":\"85%\",\"top\":\"5vh\"},on:{\"update:visible\":function($event){_vm.formVisible=$event}}},[_c('el-form',{ref:\"dataForm\",attrs:{\"model\":_vm.formData,\"rules\":_vm.formRules}},[_c('el-form-item',{attrs:{\"label\":\"父ID\",\"prop\":\"pid\"}},[_c('el-select',{attrs:{\"placeholder\":\"顶级\"},model:{value:(_vm.formData.pid),callback:function ($$v) {_vm.$set(_vm.formData, \"pid\", $$v)},expression:\"formData.pid\"}},_vm._l((_vm.treeList),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.title,\"value\":item.id}},[_c('span',{staticStyle:{\"float\":\"left\"}},[_c('span',{domProps:{\"innerHTML\":_vm._s(item.html)}}),_vm._v(_vm._s(item.title))])])}))],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"规则名\",\"prop\":\"name\"}},[_c('el-input',{attrs:{\"type\":\"\",\"auto-complete\":\"off\"},model:{value:(_vm.formData.name),callback:function ($$v) {_vm.$set(_vm.formData, \"name\", $$v)},expression:\"formData.name\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"规则标题\",\"prop\":\"title\"}},[_c('el-input',{attrs:{\"type\":\"\",\"auto-complete\":\"off\"},model:{value:(_vm.formData.title),callback:function ($$v) {_vm.$set(_vm.formData, \"title\", $$v)},expression:\"formData.title\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"状态\",\"prop\":\"status\"}},[_c('el-radio-group',{model:{value:(_vm.formData.status),callback:function ($$v) {_vm.$set(_vm.formData, \"status\", $$v)},expression:\"formData.status\"}},[_c('el-radio',{attrs:{\"label\":\"0\"}},[_vm._v(\"禁用\")]),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":\"1\"}},[_vm._v(\"正常\")])],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"额外的规则表达式\"}},[_c('el-input',{attrs:{\"type\":\"textarea\"},model:{value:(_vm.formData.condition),callback:function ($$v) {_vm.$set(_vm.formData, \"condition\", $$v)},expression:\"formData.condition\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"排序\",\"prop\":\"listorder\"}},[_c('el-input',{attrs:{\"type\":\"\",\"auto-complete\":\"off\"},model:{value:(_vm.formData.listorder),callback:function ($$v) {_vm.$set(_vm.formData, \"listorder\", $$v)},expression:\"formData.listorder\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{nativeOn:{\"click\":function($event){return _vm.hideForm($event)}}},[_vm._v(\"取消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"loading\":_vm.formLoading},nativeOn:{\"click\":function($event){_vm.formSubmit()}}},[_vm._v(\"提交\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var admin_authRule = (esExports);\n// CONCATENATED MODULE: ./src/pages/user_manage/admin/authRule.vue\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"CERA\")\n}\nvar normalizeComponent = __webpack_require__(\"Z0/y\")\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  authRule,\n  admin_authRule,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var user_manage_admin_authRule = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"QTG7\":\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(\"UTlt\")(true);\n// imports\n\n\n// module\nexports.push([module.i, \"\", \"\", {\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"file\":\"authRule.vue\",\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/3.127aafc10fd8f63f6eaf.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/_css-loader@0.28.11@css-loader/index.js?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-a0ad708a\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../node_modules/_sass-loader@6.0.7@sass-loader/lib/loader.js?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=styles&index=0!./authRule.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/_vue-style-loader@3.1.2@vue-style-loader/lib/addStylesClient.js\")(\"46b18018\", content, true, {});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/_vue-style-loader@3.1.2@vue-style-loader!./node_modules/_css-loader@0.28.11@css-loader?{\"sourceMap\":true}!./node_modules/_vue-loader@13.7.1@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-a0ad708a\",\"scoped\":false,\"hasInlineConfig\":false}!./node_modules/_sass-loader@6.0.7@sass-loader/lib/loader.js?{\"sourceMap\":true}!./node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=styles&index=0!./src/pages/user_manage/admin/authRule.vue\n// module id = CERA\n// module chunks = 3","/**\n * Created by lk on 17/6/4.\n */\nimport fetch from '../utils/fetch'\n\nconst API_SUFFIX = process.env.API_SUFFIX\n\n// 权限管理\n\n// 获取列表\nexport function authRuleList (query) {\n    return fetch({\n        url: '/admin/auth_rule/index' + API_SUFFIX,\n        method: 'get',\n        params: query\n    })\n}\n\n// 保存\nexport function authRuleSave (data, formName, method = 'post') {\n    var url = formName === 'add' ? '/admin/auth_rule/save' + API_SUFFIX : '/admin/auth_rule/edit' + API_SUFFIX\n    return fetch({\n        url: url,\n        method: method,\n        data: data\n    })\n}\n\n// 删除\nexport function authRuleDelete (data) {\n    return fetch({\n        url: '/admin/auth_rule/delete' + API_SUFFIX,\n        method: 'post',\n        data: data\n    })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/authRule.js","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-a0ad708a\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=styles&index=0!./authRule.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./authRule.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./authRule.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-a0ad708a\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=template&index=0!./authRule.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/user_manage/admin/authRule.vue\n// module id = null\n// module chunks = ","<template>\n\n    <div>\n        <el-form :inline=\"true\" :model=\"query\" class=\"query-form\" size=\"mini\">\n            <!--<el-form-item class=\"query-form-item\">-->\n            <!--<el-select v-model=\"query.pid\" placeholder=\"父级\">-->\n            <!--<el-option-->\n            <!--v-for=\"item in treeList\"-->\n            <!--:key=\"item.id\"-->\n            <!--:label=\"item.title\"-->\n            <!--:value=\"item.id\">-->\n            <!--<span style=\"float: left\"><span v-html=\"item.html\"></span>{{ item.title }}</span>-->\n            <!--</el-option>-->\n            <!--</el-select>-->\n            <!--</el-form-item>-->\n            <el-form-item class=\"query-form-item\">\n                <el-input v-model=\"query.name\" placeholder=\"角色名称\"></el-input>\n            </el-form-item>\n            <el-form-item class=\"query-form-item\">\n                <el-select v-model=\"query.status\" placeholder=\"状态\">\n                    <!--<el-option label=\"状态\" value=\"\"></el-option>-->\n                    <el-option label=\"禁用\" value=\"0\"></el-option>\n                    <el-option label=\"正常\" value=\"1\"></el-option>\n                </el-select>\n            </el-form-item>\n            <el-form-item>\n                <el-button type=\"primary\" icon=\"el-icon-refresh\" @click=\"getList\"></el-button>\n            </el-form-item>\n            <el-form-item>\n                <el-button type=\"primary\" icon=\"search\" @click=\"onSubmit\">查询</el-button>\n            </el-form-item>\n            <el-form-item>\n                <el-button type=\"primary\" @click.native=\"handleForm(null, null, 'add')\">新增</el-button>\n            </el-form-item>\n        </el-form>\n\n        <el-tree\n            :data=\"mergeList\"\n            :props=\"defaultProps\"\n            node-key=\"id\"\n            default-expand-all\n            :expand-on-click-node=\"false\"\n            :render-content=\"renderContent\">\n        </el-tree>\n\n        <!--表单界面-->\n        <el-dialog\n            :title=\"formMap[formName]\"\n            :visible.sync=\"formVisible\"\n            :before-close=\"hideForm\"\n            width=\"85%\"\n            top=\"5vh\">\n            <el-form :model=\"formData\" :rules=\"formRules\" ref=\"dataForm\">\n                <el-form-item label=\"父ID\" prop=\"pid\">\n                    <el-select v-model=\"formData.pid\" placeholder=\"顶级\">\n                        <el-option\n                            v-for=\"item in treeList\"\n                            :key=\"item.id\"\n                            :label=\"item.title\"\n                            :value=\"item.id\">\n                            <span style=\"float: left\"><span v-html=\"item.html\"></span>{{ item.title }}</span>\n                        </el-option>\n                    </el-select>\n                </el-form-item>\n                <el-form-item label=\"规则名\" prop=\"name\">\n                    <el-input type=\"\" v-model=\"formData.name\" auto-complete=\"off\"></el-input>\n                </el-form-item>\n                <el-form-item label=\"规则标题\" prop=\"title\">\n                    <el-input type=\"\" v-model=\"formData.title\" auto-complete=\"off\"></el-input>\n                </el-form-item>\n                <el-form-item label=\"状态\" prop=\"status\">\n                    <el-radio-group v-model=\"formData.status\">\n                        <el-radio label=\"0\">禁用</el-radio>\n                        <el-radio label=\"1\">正常</el-radio>\n                    </el-radio-group>\n                </el-form-item>\n                <el-form-item label=\"额外的规则表达式\">\n                    <el-input type=\"textarea\" v-model=\"formData.condition\"></el-input>\n                </el-form-item>\n                <el-form-item label=\"排序\" prop=\"listorder\">\n                    <el-input type=\"\" v-model=\"formData.listorder\" auto-complete=\"off\"></el-input>\n                </el-form-item>\n            </el-form>\n            <div slot=\"footer\" class=\"dialog-footer\">\n                <el-button @click.native=\"hideForm\">取消</el-button>\n                <el-button type=\"primary\" @click.native=\"formSubmit()\" :loading=\"formLoading\">提交</el-button>\n            </div>\n        </el-dialog>\n    </div>\n\n</template>\n\n<script>\n    import { authRuleList, authRuleSave, authRuleDelete } from '../../../api/authRule'\n    const formJson = {\n        id: '',\n        pid: '2',\n        name: '',\n        title: '',\n        status: '1',\n        condition: '',\n        listorder: 999\n    }\n    export default {\n        data () {\n            return {\n                query: {\n                    // pid: '',\n                    name: '',\n                    status: ''\n                },\n                mergeList: [],\n                node: null,\n                defaultProps: {\n                    children: 'children',\n                    label: 'title'\n                },\n                treeList: [],\n                loading: true,\n                index: null,\n                formName: null,\n                formMap: {\n                    add: '新增',\n                    edit: '编辑'\n                },\n                formLoading: false,\n                formVisible: false,\n                formData: formJson,\n                formRules: {\n                    name: [\n                        {required: true, message: '请输入规则名', trigger: 'blur'}\n                    ],\n                    title: [\n                        {required: true, message: '请输入标题', trigger: 'blur'}\n                    ],\n                    status: [\n                        {required: true, message: '请选择状态', trigger: 'change'}\n                    ]\n                },\n                pidData: {},\n                deleteLoading: false\n            }\n        },\n        methods: {\n            renderContent (h, { node, data, store }) {\n                return (\n                    <span style=\"flex: 1; display: flex; align-items: center; justify-content: space-between; font-size: 14px; padding-right: 8px;\">\n                    <span>\n                    <span title={ data.name }>{node.label}</span>\n                </span>\n                <span>\n                <el-button style=\"font-size: 12px;\" type=\"text\" on-click={ () => this.handleForm(node, data, 'add') }>添加子菜单</el-button>\n                <el-button style=\"font-size: 12px;\" type=\"text\" on-click={ () => this.handleForm(node, data, 'edit') }>编辑</el-button>\n                <el-button style=\"font-size: 12px;\" type=\"text\" on-click={ () => this.handleDel(node, data) }>删除</el-button>\n                </span>\n                </span>)\n            },\n            onSubmit () {\n                this.getList()\n            },\n            getList () {\n                this.loading = true\n                authRuleList(this.query).then(response => {\n                    this.loading = false\n                    this.mergeList = response.merge_list || []\n                    this.treeList = response.tree_list || []\n                }).catch(() => {\n                    this.loading = false\n                    this.mergeList = []\n                    this.treeList = []\n                })\n            },\n            // 隐藏表单\n            hideForm () {\n                // 更改值\n                this.formVisible = !this.formVisible\n                // 清空表单\n                this.$refs['dataForm'].resetFields()\n                return true\n            },\n            // 显示表单\n            handleForm (node, data, formName) {\n                this.formVisible = true\n                this.pidData = data || null\n                formJson.pid = (data && parseInt(data.id)) || ''\n                this.formData = Object.assign({}, formJson)\n                if (formName === 'edit') {\n                    this.formData = Object.assign({}, data)\n                    this.node = node\n                }\n                this.formData.pid = !this.formData.pid ? '' : this.formData.pid\n                this.formData.status += '' // 转为字符串（解决默认选中的时候字符串和数字不能比较的问题）\n                this.formName = formName\n                // 清空验证信息表单\n                if (this.$refs['dataForm']) {\n                    this.$refs['dataForm'].clearValidate()\n                }\n                if (data && data.id) {\n                    this.index = this.mergeList.findIndex(d => d.id === data.id)\n                }\n            },\n            formSubmit () {\n                this.$refs['dataForm'].validate(valid => {\n                    if (valid) {\n                        this.formLoading = true\n                        let data = Object.assign({}, this.formData)\n                        authRuleSave(data, this.formName).then(res => {\n                            this.formLoading = false\n                            if (res.errcode) {\n                                this.$message({\n                                    message: res.errmsg,\n                                    type: 'error'\n                                })\n                            } else {\n                                this.$message({\n                                    message: '操作成功',\n                                    type: 'success'\n                                })\n                                // 刷新表单\n                                this.$refs['dataForm'].resetFields()\n                                this.formVisible = false\n                                if (this.formName === 'add') {\n                                    const newChild = res || {}\n                                    if (this.pidData) {\n                                        if (!this.pidData.children) {\n                                            this.$set(this.pidData, 'children', [])\n                                        }\n                                        this.pidData.children.push(newChild)\n                                    } else {\n                                        this.mergeList.push(newChild)\n                                    }\n                                } else {\n                                    const parent = this.node.parent\n                                    const children = parent.data.children || parent.data\n                                    const index = children.findIndex(d => d.id === data.id)\n                                    children.splice(index, 1, data)\n                                }\n                            }\n                        }).catch(() => {\n                            this.formLoading = false\n                        })\n                    }\n                })\n            },\n            // 删除\n            handleDel (node, data) {\n                if (data.children && data.children.length > 0) {\n                    this.$alert('请先删除子节点', '提示', {\n                        confirmButtonText: '确定'\n                    })\n                    return false\n                }\n                if (data.id) {\n                    this.$confirm('确认删除该记录吗?', '提示', {\n                        type: 'warning'\n                    }).then(() => {\n                        this.deleteLoading = true\n                        let para = {id: data.id}\n                        authRuleDelete(para).then((res) => {\n                            this.deleteLoading = false\n                            if (res.errcode) {\n                                this.$message({\n                                    message: res.errmsg,\n                                    type: 'error'\n                                })\n                            } else {\n                                this.$message({\n                                    message: '删除成功',\n                                    type: 'success'\n                                })\n                                const parent = node.parent\n                                const children = parent.data.children || parent.data\n                                const index = children.findIndex(d => d.id === data.id)\n                                children.splice(index, 1)\n                            }\n                        }).catch(() => {\n                            this.deleteLoading = false\n                        })\n                    }).catch(() => {\n                        this.$message({\n                            type: 'info',\n                            message: '取消删除'\n                        })\n                    })\n                }\n            }\n        },\n        filters: {\n            statusFilterType (status) {\n                const statusMap = {\n                    0: 'gray',\n                    1: 'success'\n                }\n                return statusMap[status]\n            },\n            statusFilterName (status) {\n                const statusMap = {\n                    0: '禁用',\n                    1: '正常'\n                }\n                return statusMap[status]\n            }\n        },\n        mounted () {\n        },\n        created () {\n            // 加载表格数据\n            this.getList()\n        }\n    }\n</script>\n\n<style lang=\"scss\">\n\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/user_manage/admin/authRule.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-form',{staticClass:\"query-form\",attrs:{\"inline\":true,\"model\":_vm.query,\"size\":\"mini\"}},[_c('el-form-item',{staticClass:\"query-form-item\"},[_c('el-input',{attrs:{\"placeholder\":\"角色名称\"},model:{value:(_vm.query.name),callback:function ($$v) {_vm.$set(_vm.query, \"name\", $$v)},expression:\"query.name\"}})],1),_vm._v(\" \"),_c('el-form-item',{staticClass:\"query-form-item\"},[_c('el-select',{attrs:{\"placeholder\":\"状态\"},model:{value:(_vm.query.status),callback:function ($$v) {_vm.$set(_vm.query, \"status\", $$v)},expression:\"query.status\"}},[_c('el-option',{attrs:{\"label\":\"禁用\",\"value\":\"0\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"正常\",\"value\":\"1\"}})],1)],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-refresh\"},on:{\"click\":_vm.getList}})],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"search\"},on:{\"click\":_vm.onSubmit}},[_vm._v(\"查询\")])],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},nativeOn:{\"click\":function($event){_vm.handleForm(null, null, 'add')}}},[_vm._v(\"新增\")])],1)],1),_vm._v(\" \"),_c('el-tree',{attrs:{\"data\":_vm.mergeList,\"props\":_vm.defaultProps,\"node-key\":\"id\",\"default-expand-all\":\"\",\"expand-on-click-node\":false,\"render-content\":_vm.renderContent}}),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":_vm.formMap[_vm.formName],\"visible\":_vm.formVisible,\"before-close\":_vm.hideForm,\"width\":\"85%\",\"top\":\"5vh\"},on:{\"update:visible\":function($event){_vm.formVisible=$event}}},[_c('el-form',{ref:\"dataForm\",attrs:{\"model\":_vm.formData,\"rules\":_vm.formRules}},[_c('el-form-item',{attrs:{\"label\":\"父ID\",\"prop\":\"pid\"}},[_c('el-select',{attrs:{\"placeholder\":\"顶级\"},model:{value:(_vm.formData.pid),callback:function ($$v) {_vm.$set(_vm.formData, \"pid\", $$v)},expression:\"formData.pid\"}},_vm._l((_vm.treeList),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.title,\"value\":item.id}},[_c('span',{staticStyle:{\"float\":\"left\"}},[_c('span',{domProps:{\"innerHTML\":_vm._s(item.html)}}),_vm._v(_vm._s(item.title))])])}))],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"规则名\",\"prop\":\"name\"}},[_c('el-input',{attrs:{\"type\":\"\",\"auto-complete\":\"off\"},model:{value:(_vm.formData.name),callback:function ($$v) {_vm.$set(_vm.formData, \"name\", $$v)},expression:\"formData.name\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"规则标题\",\"prop\":\"title\"}},[_c('el-input',{attrs:{\"type\":\"\",\"auto-complete\":\"off\"},model:{value:(_vm.formData.title),callback:function ($$v) {_vm.$set(_vm.formData, \"title\", $$v)},expression:\"formData.title\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"状态\",\"prop\":\"status\"}},[_c('el-radio-group',{model:{value:(_vm.formData.status),callback:function ($$v) {_vm.$set(_vm.formData, \"status\", $$v)},expression:\"formData.status\"}},[_c('el-radio',{attrs:{\"label\":\"0\"}},[_vm._v(\"禁用\")]),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":\"1\"}},[_vm._v(\"正常\")])],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"额外的规则表达式\"}},[_c('el-input',{attrs:{\"type\":\"textarea\"},model:{value:(_vm.formData.condition),callback:function ($$v) {_vm.$set(_vm.formData, \"condition\", $$v)},expression:\"formData.condition\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"排序\",\"prop\":\"listorder\"}},[_c('el-input',{attrs:{\"type\":\"\",\"auto-complete\":\"off\"},model:{value:(_vm.formData.listorder),callback:function ($$v) {_vm.$set(_vm.formData, \"listorder\", $$v)},expression:\"formData.listorder\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{nativeOn:{\"click\":function($event){return _vm.hideForm($event)}}},[_vm._v(\"取消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"loading\":_vm.formLoading},nativeOn:{\"click\":function($event){_vm.formSubmit()}}},[_vm._v(\"提交\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler?{\"id\":\"data-v-a0ad708a\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=template&index=0!./src/pages/user_manage/admin/authRule.vue\n// module id = null\n// module chunks = ","exports = module.exports = require(\"../../../../node_modules/_css-loader@0.28.11@css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\", {\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"file\":\"authRule.vue\",\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_css-loader@0.28.11@css-loader?{\"sourceMap\":true}!./node_modules/_vue-loader@13.7.1@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-a0ad708a\",\"scoped\":false,\"hasInlineConfig\":false}!./node_modules/_sass-loader@6.0.7@sass-loader/lib/loader.js?{\"sourceMap\":true}!./node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=styles&index=0!./src/pages/user_manage/admin/authRule.vue\n// module id = QTG7\n// module chunks = 3"],"sourceRoot":""}