{"version":3,"sources":["webpack:///static/js/4.f7e2c848f268d6f8b388.js","webpack:///./src/pages/user_manage/admin/authRule.vue?e96b","webpack:///./src/api/authRule.js","webpack:///./src/pages/user_manage/admin/authRule.vue","webpack:///src/pages/user_manage/admin/authRule.vue","webpack:///./src/pages/user_manage/admin/authRule.vue?f542","webpack:///./src/pages/user_manage/admin/authRule.vue?04d8"],"names":["webpackJsonp","8Wep","module","exports","__webpack_require__","content","i","locals","E37/","__webpack_exports__","authRuleList","query","Object","fetch","url","API_SUFFIX","method","params","authRuleSave","data","formName","arguments","length","undefined","authRuleDelete","injectStyle","ssrContext","defineProperty","value","formJson","id","pid","name","title","status","condition","listorder","authRule","mergeList","node","defaultProps","children","label","treeList","loading","index","formMap","add","edit","formLoading","formVisible","formData","formRules","required","message","trigger","pidData","deleteLoading","methods","renderContent","h","_ref","_this","this","store","style","attrs","type","on","click","handleForm","handleDel","onSubmit","getList","_this2","then","response","merge_list","tree_list","catch","parseInt","assign","$refs","clearValidate","findIndex","d","formSubmit","_this3","validate","valid","res","errcode","$message","errmsg","resetFields","newChild","$set","push","parent","splice","_this4","$alert","confirmButtonText","$confirm","filters","statusFilterType","0","1","statusFilterName","mounted","created","render","_vm","_h","$createElement","_c","_self","staticClass","inline","model","size","placeholder","callback","$$v","expression","_v","icon","nativeOn","$event","props","node-key","default-expand-all","expand-on-click-node","render-content","visible","update:visible","ref","rules","prop","_l","item","key","staticStyle","float","domProps","innerHTML","_s","html","auto-complete","slot","staticRenderFns","esExports","admin_authRule","normalizeComponent","__vue_styles__","Component","xAv3","version","sources","names","mappings","file","sourceRoot"],"mappings":"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","file":"static/js/4.f7e2c848f268d6f8b388.js","sourcesContent":["webpackJsonp([4],{\n\n/***/ \"8Wep\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(\"xAv3\");\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(\"FIqI\")(\"48c23e4d\", content, true, {});\n\n/***/ }),\n\n/***/ \"E37/\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ./src/utils/fetch.js + 1 modules\nvar fetch = __webpack_require__(\"Vo7i\");\n\n// CONCATENATED MODULE: ./src/api/authRule.js\n/**\n * Created by lk on 17/6/4.\n */\n\n\nvar API_SUFFIX = \".json\";\n\n// 权限管理\n\n// 获取列表\nfunction authRuleList(query) {\n    return Object(fetch[\"a\" /* default */])({\n        url: '/admin/auth_rule/index' + API_SUFFIX,\n        method: 'get',\n        params: query\n    });\n}\n\n// 保存\nfunction authRuleSave(data, formName) {\n    var method = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'post';\n\n    var url = formName === 'add' ? '/admin/auth_rule/save' + API_SUFFIX : '/admin/auth_rule/edit' + API_SUFFIX;\n    return Object(fetch[\"a\" /* default */])({\n        url: url,\n        method: method,\n        data: data\n    });\n}\n\n// 删除\nfunction authRuleDelete(data) {\n    return Object(fetch[\"a\" /* default */])({\n        url: '/admin/auth_rule/delete' + API_SUFFIX,\n        method: 'post',\n        data: data\n    });\n}\n// CONCATENATED MODULE: ./node_modules/_babel-loader@7.1.4@babel-loader/lib!./node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=script&index=0!./src/pages/user_manage/admin/authRule.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\nvar formJson = {\n    id: '',\n    pid: '2',\n    name: '',\n    title: '',\n    status: '1',\n    condition: '',\n    listorder: 999\n};\n/* harmony default export */ var authRule = ({\n    data: function data() {\n        return {\n            query: {\n                // pid: '',\n                name: '',\n                status: ''\n            },\n            mergeList: [],\n            node: null,\n            defaultProps: {\n                children: 'children',\n                label: 'title'\n            },\n            treeList: [],\n            loading: true,\n            index: null,\n            formName: null,\n            formMap: {\n                add: '新增',\n                edit: '编辑'\n            },\n            formLoading: false,\n            formVisible: false,\n            formData: formJson,\n            formRules: {\n                name: [{ required: true, message: '请输入规则名', trigger: 'blur' }],\n                title: [{ required: true, message: '请输入标题', trigger: 'blur' }],\n                status: [{ required: true, message: '请选择状态', trigger: 'change' }]\n            },\n            pidData: {},\n            deleteLoading: false\n        };\n    },\n\n    methods: {\n        renderContent: function renderContent(h, _ref) {\n            var _this = this;\n\n            var node = _ref.node,\n                data = _ref.data,\n                store = _ref.store;\n\n            return h(\n                'span',\n                { style: 'flex: 1; display: flex; align-items: center; justify-content: space-between; font-size: 14px; padding-right: 8px;' },\n                [h('span', [h(\n                    'span',\n                    {\n                        attrs: { title: data.name }\n                    },\n                    [node.label]\n                )]), h('span', [h(\n                    'el-button',\n                    { style: 'font-size: 12px;', attrs: { type: 'text' },\n                        on: {\n                            'click': function click() {\n                                return _this.handleForm(node, data, 'add');\n                            }\n                        }\n                    },\n                    ['\\u6DFB\\u52A0\\u5B50\\u83DC\\u5355']\n                ), h(\n                    'el-button',\n                    { style: 'font-size: 12px;', attrs: { type: 'text' },\n                        on: {\n                            'click': function click() {\n                                return _this.handleForm(node, data, 'edit');\n                            }\n                        }\n                    },\n                    ['\\u7F16\\u8F91']\n                ), h(\n                    'el-button',\n                    { style: 'font-size: 12px;', attrs: { type: 'text' },\n                        on: {\n                            'click': function click() {\n                                return _this.handleDel(node, data);\n                            }\n                        }\n                    },\n                    ['\\u5220\\u9664']\n                )])]\n            );\n        },\n        onSubmit: function onSubmit() {\n            this.getList();\n        },\n        getList: function getList() {\n            var _this2 = this;\n\n            this.loading = true;\n            authRuleList(this.query).then(function (response) {\n                _this2.loading = false;\n                _this2.mergeList = response.merge_list || [];\n                _this2.treeList = response.tree_list || [];\n            }).catch(function () {\n                _this2.loading = false;\n                _this2.mergeList = [];\n                _this2.treeList = [];\n            });\n        },\n\n        // 显示界面\n        handleForm: function handleForm(node, data, formName) {\n            this.formVisible = true;\n            this.pidData = data || null;\n            formJson.pid = data && parseInt(data.id) || '';\n            this.formData = Object.assign({}, formJson);\n            if (formName === 'edit') {\n                this.formData = Object.assign({}, data);\n                this.node = node;\n            }\n            this.formData.pid = !this.formData.pid ? '' : this.formData.pid;\n            this.formData.status += ''; // 转为字符串（解决默认选中的时候字符串和数字不能比较的问题）\n            this.formName = formName;\n            // 清空验证信息表单\n            if (this.$refs['dataForm']) {\n                this.$refs['dataForm'].clearValidate();\n            }\n            if (data && data.id) {\n                this.index = this.mergeList.findIndex(function (d) {\n                    return d.id === data.id;\n                });\n            }\n        },\n        formSubmit: function formSubmit() {\n            var _this3 = this;\n\n            this.$refs['dataForm'].validate(function (valid) {\n                if (valid) {\n                    _this3.formLoading = true;\n                    var data = Object.assign({}, _this3.formData);\n                    authRuleSave(data, _this3.formName).then(function (res) {\n                        _this3.formLoading = false;\n                        if (res.errcode) {\n                            _this3.$message({\n                                message: res.errmsg,\n                                type: 'error'\n                            });\n                        } else {\n                            _this3.$message({\n                                message: '操作成功',\n                                type: 'success'\n                            });\n                            // 刷新表单\n                            _this3.$refs['dataForm'].resetFields();\n                            _this3.formVisible = false;\n                            if (_this3.formName === 'add') {\n                                var newChild = res || {};\n                                if (_this3.pidData) {\n                                    if (!_this3.pidData.children) {\n                                        _this3.$set(_this3.pidData, 'children', []);\n                                    }\n                                    _this3.pidData.children.push(newChild);\n                                } else {\n                                    _this3.mergeList.push(newChild);\n                                }\n                            } else {\n                                var parent = _this3.node.parent;\n                                var children = parent.data.children || parent.data;\n                                var index = children.findIndex(function (d) {\n                                    return d.id === data.id;\n                                });\n                                children.splice(index, 1, data);\n                            }\n                        }\n                    }).catch(function () {\n                        _this3.formLoading = false;\n                    });\n                }\n            });\n        },\n\n        // 删除\n        handleDel: function handleDel(node, data) {\n            var _this4 = this;\n\n            if (data.children && data.children.length > 0) {\n                this.$alert('请先删除子节点', '提示', {\n                    confirmButtonText: '确定'\n                });\n                return false;\n            }\n            if (data.id) {\n                this.$confirm('确认删除该记录吗?', '提示', {\n                    type: 'warning'\n                }).then(function () {\n                    _this4.deleteLoading = true;\n                    var para = { id: data.id };\n                    authRuleDelete(para).then(function (res) {\n                        _this4.deleteLoading = false;\n                        if (res.errcode) {\n                            _this4.$message({\n                                message: res.errmsg,\n                                type: 'error'\n                            });\n                        } else {\n                            _this4.$message({\n                                message: '删除成功',\n                                type: 'success'\n                            });\n                            var parent = node.parent;\n                            var children = parent.data.children || parent.data;\n                            var index = children.findIndex(function (d) {\n                                return d.id === data.id;\n                            });\n                            children.splice(index, 1);\n                        }\n                    }).catch(function () {\n                        _this4.deleteLoading = false;\n                    });\n                }).catch(function () {\n                    _this4.$message({\n                        type: 'info',\n                        message: '取消删除'\n                    });\n                });\n            }\n        }\n    },\n    filters: {\n        statusFilterType: function statusFilterType(status) {\n            var statusMap = {\n                0: 'gray',\n                1: 'success'\n            };\n            return statusMap[status];\n        },\n        statusFilterName: function statusFilterName(status) {\n            var statusMap = {\n                0: '禁用',\n                1: '正常'\n            };\n            return statusMap[status];\n        }\n    },\n    mounted: function mounted() {},\n    created: function created() {\n        // 加载表格数据\n        this.getList();\n    }\n});\n// CONCATENATED MODULE: ./node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler?{\"id\":\"data-v-4cb847bc\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=template&index=0!./src/pages/user_manage/admin/authRule.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-form',{staticClass:\"query-form\",attrs:{\"inline\":true,\"model\":_vm.query,\"size\":\"mini\"}},[_c('el-form-item',{staticClass:\"query-form-item\"},[_c('el-input',{attrs:{\"placeholder\":\"角色名称\"},model:{value:(_vm.query.name),callback:function ($$v) {_vm.$set(_vm.query, \"name\", $$v)},expression:\"query.name\"}})],1),_vm._v(\" \"),_c('el-form-item',{staticClass:\"query-form-item\"},[_c('el-select',{attrs:{\"placeholder\":\"状态\"},model:{value:(_vm.query.status),callback:function ($$v) {_vm.$set(_vm.query, \"status\", $$v)},expression:\"query.status\"}},[_c('el-option',{attrs:{\"label\":\"禁用\",\"value\":\"0\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"正常\",\"value\":\"1\"}})],1)],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-refresh\"},on:{\"click\":_vm.getList}})],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"search\"},on:{\"click\":_vm.onSubmit}},[_vm._v(\"查询\")])],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},nativeOn:{\"click\":function($event){_vm.handleForm(null, null, 'add')}}},[_vm._v(\"新增\")])],1)],1),_vm._v(\" \"),_c('el-tree',{attrs:{\"data\":_vm.mergeList,\"props\":_vm.defaultProps,\"node-key\":\"id\",\"default-expand-all\":\"\",\"expand-on-click-node\":false,\"render-content\":_vm.renderContent}}),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":_vm.formMap[_vm.formName],\"visible\":_vm.formVisible},on:{\"update:visible\":function($event){_vm.formVisible=$event}}},[_c('el-form',{ref:\"dataForm\",attrs:{\"model\":_vm.formData,\"rules\":_vm.formRules}},[_c('el-form-item',{attrs:{\"label\":\"父ID\",\"prop\":\"pid\"}},[_c('el-select',{attrs:{\"placeholder\":\"顶级\"},model:{value:(_vm.formData.pid),callback:function ($$v) {_vm.$set(_vm.formData, \"pid\", $$v)},expression:\"formData.pid\"}},_vm._l((_vm.treeList),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.title,\"value\":item.id}},[_c('span',{staticStyle:{\"float\":\"left\"}},[_c('span',{domProps:{\"innerHTML\":_vm._s(item.html)}}),_vm._v(_vm._s(item.title))])])}))],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"规则名\",\"prop\":\"name\"}},[_c('el-input',{attrs:{\"type\":\"\",\"auto-complete\":\"off\"},model:{value:(_vm.formData.name),callback:function ($$v) {_vm.$set(_vm.formData, \"name\", $$v)},expression:\"formData.name\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"规则标题\",\"prop\":\"title\"}},[_c('el-input',{attrs:{\"type\":\"\",\"auto-complete\":\"off\"},model:{value:(_vm.formData.title),callback:function ($$v) {_vm.$set(_vm.formData, \"title\", $$v)},expression:\"formData.title\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"状态\",\"prop\":\"status\"}},[_c('el-radio-group',{model:{value:(_vm.formData.status),callback:function ($$v) {_vm.$set(_vm.formData, \"status\", $$v)},expression:\"formData.status\"}},[_c('el-radio',{attrs:{\"label\":\"0\"}},[_vm._v(\"禁用\")]),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":\"1\"}},[_vm._v(\"正常\")])],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"额外的规则表达式\"}},[_c('el-input',{attrs:{\"type\":\"textarea\"},model:{value:(_vm.formData.condition),callback:function ($$v) {_vm.$set(_vm.formData, \"condition\", $$v)},expression:\"formData.condition\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"排序\",\"prop\":\"listorder\"}},[_c('el-input',{attrs:{\"type\":\"\",\"auto-complete\":\"off\"},model:{value:(_vm.formData.listorder),callback:function ($$v) {_vm.$set(_vm.formData, \"listorder\", $$v)},expression:\"formData.listorder\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{nativeOn:{\"click\":function($event){_vm.formVisible = !_vm.formVisible}}},[_vm._v(\"取消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"loading\":_vm.formLoading},nativeOn:{\"click\":function($event){_vm.formSubmit()}}},[_vm._v(\"提交\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var admin_authRule = (esExports);\n// CONCATENATED MODULE: ./src/pages/user_manage/admin/authRule.vue\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"8Wep\")\n}\nvar normalizeComponent = __webpack_require__(\"Z0/y\")\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  authRule,\n  admin_authRule,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var user_manage_admin_authRule = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"xAv3\":\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(\"UTlt\")(true);\n// imports\n\n\n// module\nexports.push([module.i, \"\", \"\", {\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"file\":\"authRule.vue\",\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/4.f7e2c848f268d6f8b388.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/_css-loader@0.28.11@css-loader/index.js?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4cb847bc\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../node_modules/_sass-loader@6.0.7@sass-loader/lib/loader.js?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=styles&index=0!./authRule.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/_vue-style-loader@3.1.2@vue-style-loader/lib/addStylesClient.js\")(\"48c23e4d\", content, true, {});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/_vue-style-loader@3.1.2@vue-style-loader!./node_modules/_css-loader@0.28.11@css-loader?{\"sourceMap\":true}!./node_modules/_vue-loader@13.7.1@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-4cb847bc\",\"scoped\":false,\"hasInlineConfig\":false}!./node_modules/_sass-loader@6.0.7@sass-loader/lib/loader.js?{\"sourceMap\":true}!./node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=styles&index=0!./src/pages/user_manage/admin/authRule.vue\n// module id = 8Wep\n// module chunks = 4","/**\n * Created by lk on 17/6/4.\n */\nimport fetch from '../utils/fetch'\n\nconst API_SUFFIX = process.env.API_SUFFIX\n\n// 权限管理\n\n// 获取列表\nexport function authRuleList (query) {\n    return fetch({\n        url: '/admin/auth_rule/index' + API_SUFFIX,\n        method: 'get',\n        params: query\n    })\n}\n\n// 保存\nexport function authRuleSave (data, formName, method = 'post') {\n    var url = formName === 'add' ? '/admin/auth_rule/save' + API_SUFFIX : '/admin/auth_rule/edit' + API_SUFFIX\n    return fetch({\n        url: url,\n        method: method,\n        data: data\n    })\n}\n\n// 删除\nexport function authRuleDelete (data) {\n    return fetch({\n        url: '/admin/auth_rule/delete' + API_SUFFIX,\n        method: 'post',\n        data: data\n    })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/authRule.js","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4cb847bc\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=styles&index=0!./authRule.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./authRule.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./authRule.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4cb847bc\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=template&index=0!./authRule.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/user_manage/admin/authRule.vue\n// module id = null\n// module chunks = ","<template>\n\n    <div>\n        <el-form :inline=\"true\" :model=\"query\" class=\"query-form\" size=\"mini\">\n            <!--<el-form-item class=\"query-form-item\">-->\n            <!--<el-select v-model=\"query.pid\" placeholder=\"父级\">-->\n            <!--<el-option-->\n            <!--v-for=\"item in treeList\"-->\n            <!--:key=\"item.id\"-->\n            <!--:label=\"item.title\"-->\n            <!--:value=\"item.id\">-->\n            <!--<span style=\"float: left\"><span v-html=\"item.html\"></span>{{ item.title }}</span>-->\n            <!--</el-option>-->\n            <!--</el-select>-->\n            <!--</el-form-item>-->\n            <el-form-item class=\"query-form-item\">\n                <el-input v-model=\"query.name\" placeholder=\"角色名称\"></el-input>\n            </el-form-item>\n            <el-form-item class=\"query-form-item\">\n                <el-select v-model=\"query.status\" placeholder=\"状态\">\n                    <!--<el-option label=\"状态\" value=\"\"></el-option>-->\n                    <el-option label=\"禁用\" value=\"0\"></el-option>\n                    <el-option label=\"正常\" value=\"1\"></el-option>\n                </el-select>\n            </el-form-item>\n            <el-form-item>\n                <el-button type=\"primary\" icon=\"el-icon-refresh\" @click=\"getList\"></el-button>\n            </el-form-item>\n            <el-form-item>\n                <el-button type=\"primary\" icon=\"search\" @click=\"onSubmit\">查询</el-button>\n            </el-form-item>\n            <el-form-item>\n                <el-button type=\"primary\" @click.native=\"handleForm(null, null, 'add')\">新增</el-button>\n            </el-form-item>\n        </el-form>\n\n        <el-tree\n            :data=\"mergeList\"\n            :props=\"defaultProps\"\n            node-key=\"id\"\n            default-expand-all\n            :expand-on-click-node=\"false\"\n            :render-content=\"renderContent\">\n        </el-tree>\n\n        <!--表单界面-->\n        <el-dialog :title=\"formMap[formName]\" :visible.sync=\"formVisible\">\n            <el-form :model=\"formData\" :rules=\"formRules\" ref=\"dataForm\">\n                <el-form-item label=\"父ID\" prop=\"pid\">\n                    <el-select v-model=\"formData.pid\" placeholder=\"顶级\">\n                        <el-option\n                            v-for=\"item in treeList\"\n                            :key=\"item.id\"\n                            :label=\"item.title\"\n                            :value=\"item.id\">\n                            <span style=\"float: left\"><span v-html=\"item.html\"></span>{{ item.title }}</span>\n                        </el-option>\n                    </el-select>\n                </el-form-item>\n                <el-form-item label=\"规则名\" prop=\"name\">\n                    <el-input type=\"\" v-model=\"formData.name\" auto-complete=\"off\"></el-input>\n                </el-form-item>\n                <el-form-item label=\"规则标题\" prop=\"title\">\n                    <el-input type=\"\" v-model=\"formData.title\" auto-complete=\"off\"></el-input>\n                </el-form-item>\n                <el-form-item label=\"状态\" prop=\"status\">\n                    <el-radio-group v-model=\"formData.status\">\n                        <el-radio label=\"0\">禁用</el-radio>\n                        <el-radio label=\"1\">正常</el-radio>\n                    </el-radio-group>\n                </el-form-item>\n                <el-form-item label=\"额外的规则表达式\">\n                    <el-input type=\"textarea\" v-model=\"formData.condition\"></el-input>\n                </el-form-item>\n                <el-form-item label=\"排序\" prop=\"listorder\">\n                    <el-input type=\"\" v-model=\"formData.listorder\" auto-complete=\"off\"></el-input>\n                </el-form-item>\n            </el-form>\n            <div slot=\"footer\" class=\"dialog-footer\">\n                <el-button @click.native=\"formVisible = !formVisible\">取消</el-button>\n                <el-button type=\"primary\" @click.native=\"formSubmit()\" :loading=\"formLoading\">提交</el-button>\n            </div>\n        </el-dialog>\n    </div>\n\n</template>\n\n<script>\n    import { authRuleList, authRuleSave, authRuleDelete } from '../../../api/authRule'\n    const formJson = {\n        id: '',\n        pid: '2',\n        name: '',\n        title: '',\n        status: '1',\n        condition: '',\n        listorder: 999\n    }\n    export default {\n        data () {\n            return {\n                query: {\n                    // pid: '',\n                    name: '',\n                    status: ''\n                },\n                mergeList: [],\n                node: null,\n                defaultProps: {\n                    children: 'children',\n                    label: 'title'\n                },\n                treeList: [],\n                loading: true,\n                index: null,\n                formName: null,\n                formMap: {\n                    add: '新增',\n                    edit: '编辑'\n                },\n                formLoading: false,\n                formVisible: false,\n                formData: formJson,\n                formRules: {\n                    name: [\n                        {required: true, message: '请输入规则名', trigger: 'blur'}\n                    ],\n                    title: [\n                        {required: true, message: '请输入标题', trigger: 'blur'}\n                    ],\n                    status: [\n                        {required: true, message: '请选择状态', trigger: 'change'}\n                    ]\n                },\n                pidData: {},\n                deleteLoading: false\n            }\n        },\n        methods: {\n            renderContent (h, { node, data, store }) {\n                return (\n                    <span style=\"flex: 1; display: flex; align-items: center; justify-content: space-between; font-size: 14px; padding-right: 8px;\">\n                    <span>\n                    <span title={ data.name }>{node.label}</span>\n                </span>\n                <span>\n                <el-button style=\"font-size: 12px;\" type=\"text\" on-click={ () => this.handleForm(node, data, 'add') }>添加子菜单</el-button>\n                <el-button style=\"font-size: 12px;\" type=\"text\" on-click={ () => this.handleForm(node, data, 'edit') }>编辑</el-button>\n                <el-button style=\"font-size: 12px;\" type=\"text\" on-click={ () => this.handleDel(node, data) }>删除</el-button>\n                </span>\n                </span>)\n            },\n            onSubmit () {\n                this.getList()\n            },\n            getList () {\n                this.loading = true\n                authRuleList(this.query).then(response => {\n                    this.loading = false\n                    this.mergeList = response.merge_list || []\n                    this.treeList = response.tree_list || []\n                }).catch(() => {\n                    this.loading = false\n                    this.mergeList = []\n                    this.treeList = []\n                })\n            },\n            // 显示界面\n            handleForm (node, data, formName) {\n                this.formVisible = true\n                this.pidData = data || null\n                formJson.pid = (data && parseInt(data.id)) || ''\n                this.formData = Object.assign({}, formJson)\n                if (formName === 'edit') {\n                    this.formData = Object.assign({}, data)\n                    this.node = node\n                }\n                this.formData.pid = !this.formData.pid ? '' : this.formData.pid\n                this.formData.status += '' // 转为字符串（解决默认选中的时候字符串和数字不能比较的问题）\n                this.formName = formName\n                // 清空验证信息表单\n                if (this.$refs['dataForm']) {\n                    this.$refs['dataForm'].clearValidate()\n                }\n                if (data && data.id) {\n                    this.index = this.mergeList.findIndex(d => d.id === data.id)\n                }\n            },\n            formSubmit () {\n                this.$refs['dataForm'].validate(valid => {\n                    if (valid) {\n                        this.formLoading = true\n                        let data = Object.assign({}, this.formData)\n                        authRuleSave(data, this.formName).then(res => {\n                            this.formLoading = false\n                            if (res.errcode) {\n                                this.$message({\n                                    message: res.errmsg,\n                                    type: 'error'\n                                })\n                            } else {\n                                this.$message({\n                                    message: '操作成功',\n                                    type: 'success'\n                                })\n                                // 刷新表单\n                                this.$refs['dataForm'].resetFields()\n                                this.formVisible = false\n                                if (this.formName === 'add') {\n                                    const newChild = res || {}\n                                    if (this.pidData) {\n                                        if (!this.pidData.children) {\n                                            this.$set(this.pidData, 'children', [])\n                                        }\n                                        this.pidData.children.push(newChild)\n                                    } else {\n                                        this.mergeList.push(newChild)\n                                    }\n                                } else {\n                                    const parent = this.node.parent\n                                    const children = parent.data.children || parent.data\n                                    const index = children.findIndex(d => d.id === data.id)\n                                    children.splice(index, 1, data)\n                                }\n                            }\n                        }).catch(() => {\n                            this.formLoading = false\n                        })\n                    }\n                })\n            },\n            // 删除\n            handleDel (node, data) {\n                if (data.children && data.children.length > 0) {\n                    this.$alert('请先删除子节点', '提示', {\n                        confirmButtonText: '确定'\n                    })\n                    return false\n                }\n                if (data.id) {\n                    this.$confirm('确认删除该记录吗?', '提示', {\n                        type: 'warning'\n                    }).then(() => {\n                        this.deleteLoading = true\n                        let para = {id: data.id}\n                        authRuleDelete(para).then((res) => {\n                            this.deleteLoading = false\n                            if (res.errcode) {\n                                this.$message({\n                                    message: res.errmsg,\n                                    type: 'error'\n                                })\n                            } else {\n                                this.$message({\n                                    message: '删除成功',\n                                    type: 'success'\n                                })\n                                const parent = node.parent\n                                const children = parent.data.children || parent.data\n                                const index = children.findIndex(d => d.id === data.id)\n                                children.splice(index, 1)\n                            }\n                        }).catch(() => {\n                            this.deleteLoading = false\n                        })\n                    }).catch(() => {\n                        this.$message({\n                            type: 'info',\n                            message: '取消删除'\n                        })\n                    })\n                }\n            }\n        },\n        filters: {\n            statusFilterType (status) {\n                const statusMap = {\n                    0: 'gray',\n                    1: 'success'\n                }\n                return statusMap[status]\n            },\n            statusFilterName (status) {\n                const statusMap = {\n                    0: '禁用',\n                    1: '正常'\n                }\n                return statusMap[status]\n            }\n        },\n        mounted () {\n        },\n        created () {\n            // 加载表格数据\n            this.getList()\n        }\n    }\n</script>\n\n<style lang=\"scss\">\n\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/user_manage/admin/authRule.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-form',{staticClass:\"query-form\",attrs:{\"inline\":true,\"model\":_vm.query,\"size\":\"mini\"}},[_c('el-form-item',{staticClass:\"query-form-item\"},[_c('el-input',{attrs:{\"placeholder\":\"角色名称\"},model:{value:(_vm.query.name),callback:function ($$v) {_vm.$set(_vm.query, \"name\", $$v)},expression:\"query.name\"}})],1),_vm._v(\" \"),_c('el-form-item',{staticClass:\"query-form-item\"},[_c('el-select',{attrs:{\"placeholder\":\"状态\"},model:{value:(_vm.query.status),callback:function ($$v) {_vm.$set(_vm.query, \"status\", $$v)},expression:\"query.status\"}},[_c('el-option',{attrs:{\"label\":\"禁用\",\"value\":\"0\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"正常\",\"value\":\"1\"}})],1)],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-refresh\"},on:{\"click\":_vm.getList}})],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"search\"},on:{\"click\":_vm.onSubmit}},[_vm._v(\"查询\")])],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},nativeOn:{\"click\":function($event){_vm.handleForm(null, null, 'add')}}},[_vm._v(\"新增\")])],1)],1),_vm._v(\" \"),_c('el-tree',{attrs:{\"data\":_vm.mergeList,\"props\":_vm.defaultProps,\"node-key\":\"id\",\"default-expand-all\":\"\",\"expand-on-click-node\":false,\"render-content\":_vm.renderContent}}),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":_vm.formMap[_vm.formName],\"visible\":_vm.formVisible},on:{\"update:visible\":function($event){_vm.formVisible=$event}}},[_c('el-form',{ref:\"dataForm\",attrs:{\"model\":_vm.formData,\"rules\":_vm.formRules}},[_c('el-form-item',{attrs:{\"label\":\"父ID\",\"prop\":\"pid\"}},[_c('el-select',{attrs:{\"placeholder\":\"顶级\"},model:{value:(_vm.formData.pid),callback:function ($$v) {_vm.$set(_vm.formData, \"pid\", $$v)},expression:\"formData.pid\"}},_vm._l((_vm.treeList),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.title,\"value\":item.id}},[_c('span',{staticStyle:{\"float\":\"left\"}},[_c('span',{domProps:{\"innerHTML\":_vm._s(item.html)}}),_vm._v(_vm._s(item.title))])])}))],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"规则名\",\"prop\":\"name\"}},[_c('el-input',{attrs:{\"type\":\"\",\"auto-complete\":\"off\"},model:{value:(_vm.formData.name),callback:function ($$v) {_vm.$set(_vm.formData, \"name\", $$v)},expression:\"formData.name\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"规则标题\",\"prop\":\"title\"}},[_c('el-input',{attrs:{\"type\":\"\",\"auto-complete\":\"off\"},model:{value:(_vm.formData.title),callback:function ($$v) {_vm.$set(_vm.formData, \"title\", $$v)},expression:\"formData.title\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"状态\",\"prop\":\"status\"}},[_c('el-radio-group',{model:{value:(_vm.formData.status),callback:function ($$v) {_vm.$set(_vm.formData, \"status\", $$v)},expression:\"formData.status\"}},[_c('el-radio',{attrs:{\"label\":\"0\"}},[_vm._v(\"禁用\")]),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":\"1\"}},[_vm._v(\"正常\")])],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"额外的规则表达式\"}},[_c('el-input',{attrs:{\"type\":\"textarea\"},model:{value:(_vm.formData.condition),callback:function ($$v) {_vm.$set(_vm.formData, \"condition\", $$v)},expression:\"formData.condition\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"排序\",\"prop\":\"listorder\"}},[_c('el-input',{attrs:{\"type\":\"\",\"auto-complete\":\"off\"},model:{value:(_vm.formData.listorder),callback:function ($$v) {_vm.$set(_vm.formData, \"listorder\", $$v)},expression:\"formData.listorder\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{nativeOn:{\"click\":function($event){_vm.formVisible = !_vm.formVisible}}},[_vm._v(\"取消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"loading\":_vm.formLoading},nativeOn:{\"click\":function($event){_vm.formSubmit()}}},[_vm._v(\"提交\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler?{\"id\":\"data-v-4cb847bc\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=template&index=0!./src/pages/user_manage/admin/authRule.vue\n// module id = null\n// module chunks = ","exports = module.exports = require(\"../../../../node_modules/_css-loader@0.28.11@css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\", {\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"file\":\"authRule.vue\",\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_css-loader@0.28.11@css-loader?{\"sourceMap\":true}!./node_modules/_vue-loader@13.7.1@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-4cb847bc\",\"scoped\":false,\"hasInlineConfig\":false}!./node_modules/_sass-loader@6.0.7@sass-loader/lib/loader.js?{\"sourceMap\":true}!./node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=styles&index=0!./src/pages/user_manage/admin/authRule.vue\n// module id = xAv3\n// module chunks = 4"],"sourceRoot":""}